[TOC]

# 从安卓源码看访问者模式

访问者模式最大的特点我觉得就两个：

+ 假设你的函数参数是对象，而该函数由于对象不一样执行的代码也不一样，一般会选择Runnable，又或者是选择重载函数。这样可以减少if..else..的结构
+ 你不想你的数据被结构所污染，什么意思呢？数据就是数据，他不需要去管别人怎么去访问，操作，存储，一般都是加个中介者来处理，就比如迭代器模式

他是这样的一个结构，一个报表，他有所员工在这个月的工作情况。但是每个领导关注的东西都是不一样的，比如ceo看的是产品数，而经理看的是代码量。对吧？但是如果按照我们普通的写法就是写一堆if和else判断，根据不同的对象来房屋不同的内容。又或者是使用函数重载的方式去实现不同对象访问不同的方法。

假设有个码农的bean。他肯定是记录一堆数据，对吧？但是他不会给你提供不同对象访问的获取数据函数，原因很简单：他就是个bean呀。所以一般需要第三者去处理一下，在访问者模式我们可以叫类似于报表这样的东西，就是一个遍历工具而已，那经理肯定知道他要干些什么，而ceo肯定也知道他要看些什么，所以真正处理数据的其实是这些个经理和ceo。

他和中介者的差别就是：中介者负责筛选数据。访问者是自己筛选数据。这模式自己百度吧，没什么好讲的，我不喜欢他。。。一般用不到！！！！























































