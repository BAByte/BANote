[TOC]

# 多线程安全问题

## 先说两句

​	最近突然想写一个关于多线程问题的笔记，根据现实生活来看看这个多线程的问题，主要是学习多线程已经是很久以前的事了，说白了就是，多线程操作静态变量会发生安全问题

## cup实现多线程的方式

​	不懂电脑的人也知道，cup只有一个，就像人脑一样，一个人只有一个，所谓的多线程其实在现实生活来说就是，一个人同时干多件事，就在几件事中不断地切换，这里的线程就对应着那几件事，总的来说就是cup不断地在切换线程，从而达到同时做几件事的效果，这里不知道你get到重点没有，其实cup真实的情况是一次还是只执行一个线程

## 问题

​	大家都用银行，那我就。。。。。用操作数据库的例子吧，数据库中有一项数据是用来记录书店里的书本数目，现在有两个线程AB，当线程A访问数据库，读到书本数量是20，还没来得及返回数据，CPU就切换到线程B，线程B进入到数据库，将书本数量改成了30，CPU又切换到A线程，A线程将刚刚读到的数据返回，这里就要注意了A线程刚刚读到的数据是20！但是事实上这个时候数据库里面的书的数量已经是30了！这就是多线程中最常见的数据操作问题



