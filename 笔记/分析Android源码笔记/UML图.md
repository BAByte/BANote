[TOC]

# UML图

## 先说两句

为什么要学习这个呢？因为最近要开始看《安卓源码解析。。。。》这本书，而这本书很多UML图，所以学习一下

参考文章：https://design-patterns.readthedocs.io/zh_CN/latest/read_uml.html

## 是什么

UML这三个字母的全称是Unified Modeling Language，直接翻译就是统一建模语言，简单地说就是一种有特殊用途的语言。

## 学会看UML图

### 关系

![image](https://design-patterns.readthedocs.io/zh_CN/latest/_images/uml_class_struct.jpg)

- 车的类图结构为<<abstract>>，表示车是一个抽象类；

  注意看他顶部的声明，《abstract》，如果是接口就是《interface》

- 它有两个继承类：小汽车和自行车；它们之间的关系为实现关系，使用带空心箭头的虚线表示；

- 小汽车为与SUV之间也是继承关系，它们之间的关系为泛化关系，使用带空心箭头的实线表示

  继承和实现又叫泛化关系

- 小汽车与发动机之间是组合关系，使用带实心箭头的实线表示；

  组合关系是强联系，什么意思呢，如公司和部门是整体和部分的关系，没有公司就不存在部门。

- 学生与班级之间是聚合关系，使用带空心箭头的实线表示；

  聚合是弱联系，如车和轮胎是整体和部分的关系，轮胎离开车仍然可以存在。

- 学生与身份证之间为关联关系，使用一根实线表示；

  是一种拥有的关系，它使一个类知道另一个类的属性和方法；如：老师与学生，丈夫与妻子关联可以是双向的，也可以是单向的。双向的关联可以有两个箭头或者没有箭头，单向的关联有一个箭头。反正就是常识性的东西，比如人肯定有身份证号码，在上图中是双向关联的意思，即：学生类需要身份证类的实例，身份证类需要学生的实例，如果是单箭头就是单向依赖，我们一般是单向依赖，如果是双向依赖，说明还是需要优化的，毕竟耦合度较高。

- 学生上学需要用到自行车，与自行车是一种依赖关系，使用带箭头的虚线表示；

  是一种使用的关系，即一个类的实现需要另一个类的协助，所以要尽量不使用双向的互相依赖.

## 用UML图表示类

> 下面的东西来自：http://www.cnblogs.com/shindo/p/5579191.html

### 属性表达方式

在UML类图中，类使用包含类名、属性(field) 和方法(method) 且带有分割线的矩形来表示，比如下图表示一个Employee类，它包含name,age和email这3个属性，以及modifyInfo()方法。

![image](https://images2015.cnblogs.com/blog/617148/201606/617148-20160612221055090-339746853.jpg)

那么属性/方法名称前加的加号和减号是什么意思呢？它们表示了这个属性或方法的可见性，UML类图中表示可见性的符号有三种：

**·** + ：表示public

**·** - ：表示private

**·** #：表示protected（friendly也归入这类）

因此，上图中的Employee类具有3个私有属性和一个公有方法。

 实际上，属性的完整表示方式是这样的：

**可见性  名称 ：类型 [ = 缺省值]**

中括号中的内容表示是可选的

----



### 方法表达方式

方法的完整表示方式如下：

**可见性  名称(参数列表) [ ： 返回类型]**

同样，中括号中的内容是可选的。

比如在下图的Demo类中，定义了3个方法：

![image](https://images2015.cnblogs.com/blog/617148/201606/617148-20160612222105058-2140837213.jpg)

**·** public方法method1接收一个类型为Object的参数，返回值类型为void

**·** protected方法method2无参数，返回值类型为String

**·** private方法method3接收类型分别为int、int[]的参数，返回值类型为int

## 实战

看看一个完整一点的图

![image](https://raw.githubusercontent.com/bobshute/public/master/imgs/csdn/UML%E5%9B%BE/UML-%E7%B1%BB%E5%9B%BE-%E5%90%88%E9%9B%86.png)

我们分析一下：

+ 动物他需要用水，氧气，所以是依赖关系。
+ 鸟是动物一种所以他设计成了继承
+ 鸟一定有翅膀，所以是组合关系，我们看看箭头，是鸟必须有翅膀
+ 看看飞翔这个接口，大雁和鸭子和企鹅都继承自鸟，都实现了飞翔接口
+ 看看大雁和雁群，没有雁群可以有大雁，有大雁不一定有雁群，可以脱离群组存在，所以是聚合关系

## 小结

上面的内容看完后估计你就能看懂简单的UML图了，但是UML图没那么简单，他有很多类型，我就先不学了。学习这个主要是因为我需要看设计模式与安卓源码那本书